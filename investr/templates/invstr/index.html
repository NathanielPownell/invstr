{% extends 'invstr/base.html' %}

  {% block title %}
    Dashboard
  {% endblock %}
  
  {% block content %}

    <style>
      @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
        .history{
            margin-left: 10%;
            margin-top: 5em;
            width:70%;
            display: grid;
            grid-template-columns: 70% 30%;
            grid-template-rows: 25% 80%;
        }
        canvas {
            grid-column: 1;
            grid-row: 2;
            height: 30%;
            width: 40%;
        }

        .chbar {
            grid-column: 2;
        }
        h1.val {
          color: aliceblue;
          font-size: 2.1em;
          font-family: 'Roboto', sans-serif;
          text-align: center;

        }
        .chartline {
          margin-top: 5%;
          width: 40em;
        }
        table {
          color: aliceblue;
        }
        .tradingview-widget-container {
          grid-row: 1;
          grid-column: 2;
        }
    </style>



    <!-- Latest compiled and minified CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->
    
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
<div class="history">
  <h1 class="val">Account value: ${{ user.account.value }}</h1>
    <table>
    {% for symb in user.wlist.symbols %}
      <tr>
      <td>{{ symb }}</td>
      <td> https://api.tiingo.com/tiingo/daily/{{ symb }} </td>
      <td>{{ symb }}</td>

      </tr> 
    {% endfor %}
    </table>

    <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <div class="tradingview-widget-copyright"></div>
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
  {
  "colorTheme": "dark",
  "dateRange": "12M",
  "showChart": true,
  "locale": "en",
  "largeChartUrl": "",
  "isTransparent": true,
  "showSymbolLogo": true,
  "width": "350",
  "height": "660",
  "plotLineColorGrowing": "rgba(0, 255, 0, 1)",
  "plotLineColorFalling": "rgba(0, 255, 0, 1)",
  "gridLineColor": "rgba(42, 46, 57, 1)",
  "scaleFontColor": "rgba(120, 123, 134, 1)",
  "belowLineFillColorGrowing": "rgba(0, 255, 0, 0.12)",
  "belowLineFillColorFalling": "rgba(0, 255, 0, 0.12)",
  "symbolActiveColor": "rgba(0, 255, 0, 0.12)",
  "tabs": [
    {
      "title": "Indices",
      "symbols": [
        {
          "s": "NASDAQ:NDAQ",
          "d": "Nasdaq"
        },
        {
          "s": "AMEX:SPY",
          "d": "S&P 500"
        }
        
      ],
      "originalTitle": "Indices"
    }
  ]
}
  </script>
</div>
<!-- TradingView Widget END -->
  
  
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
  
  
</div>
{% endblock %}